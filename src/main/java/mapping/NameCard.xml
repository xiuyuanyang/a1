<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.NameCardDao">
	<resultMap id="BaseResultMap" type="beans.NameCard">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="photolink" property="photolink" jdbcType="VARCHAR" />
		<result column="company" property="company" jdbcType="VARCHAR" />
		<result column="title" property="title" jdbcType="VARCHAR" />
		<result column="email" property="email" jdbcType="VARCHAR" />
		<result column="phone1" property="phone1" jdbcType="VARCHAR" />
		<result column="phone2" property="phone2" jdbcType="VARCHAR" />
		<result column="phone3" property="phone3" jdbcType="VARCHAR" />
		<result column="mobile" property="mobile" jdbcType="VARCHAR" />
		<result column="address" property="address" jdbcType="VARCHAR" />
		<result column="website" property="website" jdbcType="VARCHAR" />
	</resultMap>

	<select id="getNameCard" parameterType="int" resultMap="BaseResultMap" resultType="beans.NameCard">
		SELECT *
		FROM NameCard WHERE id=#{id};
	</select>
	<insert id="addNameCard" parameterType="beans.NameCard" flushCache="true" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO NameCard (id,name,photolink,company,title,email,phone1,phone2,phone3,mobile,address,website) VALUES
		(#{id},#{name},#{photolink},#{company},#{title},#{email},#{phone1},#{phone2},#{phone3},#{mobile},#{address},#{website});
	</insert>
	<update id="updateNameCard" parameterType="beans.NameCard">
		UPDATE NameCard
		SET
		name=#{name},
		photolink=#{photolink},
		company=#{company},
		title=#{title},
		email=#{email}, 
		phone1=#{phone1},
		phone2=#{phone2},
		phone3=#{phone3},
		mobile=#{mobile},
		address=#{address},
		website=#{website}
		WHERE id=#{id}
	</update>
	<delete id="deleteNameCard" parameterType="int">
		DELETE FROM
		NameCard
		WHERE
		id=#{id}
	</delete>
</mapper>

